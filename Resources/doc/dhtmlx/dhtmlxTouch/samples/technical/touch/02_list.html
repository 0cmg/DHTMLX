<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
	"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html>
	<head>
        <title>Mobile demos: Grouplist</title>
		<meta  name = "viewport" content = "initial-scale = 1.0, maximum-scale = 1.0, user-scalable = no">
		<link rel="stylesheet" href="../../../codebase/touchui.css" type="text/css" media="screen" charset="utf-8">		
		<script src="../../../codebase/touchui.js" type="text/javascript" charset="utf-8"></script>
		<style type="text/css" media="screen">
			.delete_button{
				float:right;
				-webkit-border-radius: 6px;
   				-moz-border-radius:6px;
  				border-radius: 6px;
				font-weight:bold;
				color:#ffffff;
				font-size:12px;
				background-color:#ff6600;
				text-shadow: 0px -1px 0px #adadad;
				height:23px;
			}
			.title{
				float:left;
			}
		
        html,body{
            background-color:#ffffff;
        }
        </style>
            
		<script type="text/javascript" charset="utf-8">
			dhx.ready(function(){ //exec code only after document loading
			
			var config = {
				container:"groupBox",
				rows:[
					{ 	
						view:"toolbar", 
						type:"MainBar", 
						elements:[
							{view:"label", label: "Backpackr", align:'left'}
						]
					},
					{ view:"list", 
						scroll:"y",
						id:"mylist", 
						url:"list.xml",  datatype:"xml",
						type:{
							template:"#title#",
							templateSwipe:"<div class='title'>#title#</div><input type='button' value='DELETE' class='delete_button'/>"
						}, select:true
					}
				]
			};
			
			//init config
			dhx.ui(config);

			dhx.extend($$("mylist"), dhx.TouchEvents);
			$$("mylist").attachEvent("onLongTouch", function(e){ 
				var id = this.locate(e.target);
				if (id)
					dhx.alert("Long touch against:"+this.item(id).title);
			});	
			$$('mylist').on_click.delete_button = function(ev){
				var id = this.locate(ev);
				this.remove(id);
			}
			
		});
		</script>
		
	<script src="../common/viewsources.js" type="text/javascript"></script>
	<link rel="STYLESHEET" type="text/css" href="../common/viewsources.css">
	
</head>
	<body>
		<div style="width:320px;height:500px;border:1px solid #969696; margin:50px;">
			<div id="groupBox" style='width:100%; height:100%;'>
			</div>
		</div>
	</body>
</html>