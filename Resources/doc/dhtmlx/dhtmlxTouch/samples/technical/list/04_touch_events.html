<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
	"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html>
	<head>
		<link rel="stylesheet" href="../../../codebase/touchui.css" type="text/css" media="screen" charset="utf-8">		
		<script src="../../../codebase/touchui.js" type="text/javascript" charset="utf-8"></script>
		<style>
		html,body{
            background-color:#ffffff;
        }
        </style>
		
	<script src="../common/viewsources.js" type="text/javascript"></script>
	<link rel="STYLESHEET" type="text/css" href="../common/viewsources.css">
	
</head>
	<body>
        <table border="0" cellspacing="5" cellpadding="5">
		<tr><td>
			<div style="border: 1px solid #D4D4D4; width:700px;height:450px;margin:50px;">
                <div id="listbox" style='width:100%; height:100%;'></div>
            </div>	     
		</td><td>
			
		</td>
        <td valign="top"><div id="actions" style="border:1px solid #A4BED4;margin-top:50px;background-color:white;width:400px;height:396px;overflow:auto; float:left;"></div></td>
        
        </tr>				
	</table>


		<script type="text/javascript" charset="utf-8">
            function log(ev,args){
                var message=ev;
                var div="<div>";
                message+='<ul style="padding:0 0 0 22px;margin:0;font:italic 60% verdana">';
                for (var i=0; i < args.length; i++) {
                    message+="<li>"+args[i];
                };
                message+='</ul>';
                div+=message+"</div";
                document.getElementById('actions').innerHTML=div+document.getElementById('actions').innerHTML;
            }
            dhx.ready(function(){
                dhx.ui({
                    container:"listbox",
    				rows:[
    					{ cols:[	
    						{ view:"list", 
    							id:"mylist", url:"books.xml", datatype:"xml",select:true,
    							template:"#title# (#author#)", select:true
    						}
    					  ] }
    				]
    			});
                $$("mylist").attachEvent("onItemClick",function(id,ev,trg){
                    log("onItemClick",arguments)
                })
                $$("mylist").attachEvent("onafterselect",function(){
                    log("onafterselect",arguments)
                })
                $$("mylist").attachEvent("onbeforeselect",function(id){
                    log("onbeforeselect",arguments)
                    if (id=="04")
                        return false
                    return true;
                })
                $$("mylist").attachEvent("onselectchange",function(){
                    log("onselectchange",arguments)
                })
            });
            
			
			
			
			
		</script>
	</body>
</html>